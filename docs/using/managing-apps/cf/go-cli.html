<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>cf v6の紹介</title>

    <link href="../../../../stylesheets/master.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="../../../../stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="../../../../javascripts/all.js" type="text/javascript"></script>
    <link href='/images/favicon.ico' rel='shortcut icon'>
    <script type="text/javascript">
      $(document).ready(function(){
        $('a#search').click(function () {
          $('#organization_bar .navbar .nav>li a').css("padding","11px 20px 8px");
          $('#organization_bar .navbar .nav>li a#docs').css("padding","14px 20px");
          $('#organization_bar .navbar .nav>li a#search2').css("padding","11px 10px 8px");
          $('#search-on').show();
          $('#search-off').hide();
        });
        $('.cancel-x').click(function () {
          $('#organization_bar .navbar .nav>li a').css("padding","11px 63px 8px");
          $('#organization_bar .navbar .nav>li a#docs').css("padding","14px 20px");
          $('#organization_bar .navbar .nav>li a#search2, #organization_bar .navbar .nav>li a#search').css("padding","16px 20px 15px");
          $('#organization_bar .navbar .nav>li a#getinvolved').css("padding","11px 92px 8px");
          $('#organization_bar .navbar .nav>li#docs-off .docs-list-list a').css("padding","0");
          $('#search-on').hide();
          $('#search-off').show();
        });f
        $(".togglebutton").click(function () {
        var divname= this.value;
          $("#"+divname).show("slow").siblings().hide("slow");
        });
      });
    </script>

    <!--[if lt IE 9]>
    <style>
        #content .container-full {background:  #ebf0fa;}
        .call-to-contribute-box, .column-left, .column-middle, .column-right {background:#e3e8f2}
        #footer {background:#000;}
    </style>
    <![endif]-->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-22181585-1']);
      _gaq.push(['_setDomainName', 'cloudfoundry.com']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body class="docs docs_using docs_using_managing-apps docs_using_managing-apps_cf docs_using_managing-apps_cf_go-cli">
    <img id="bg" src="/images/bg-plain-x.jpg">
    <div id='non_footer'>
      <div id='header'>
        <div class='container_wide'>
          <ul class='actions'>
            <li class='last'>
              <a href="http://www.cloudfoundry.com/contact">Contact Us</a>
            </li>
            <li>
              <a class='register_link' href='http://login.run.pivotal.io/login'>My Account</a>            
            </li>
          </ul>
        </div>
      </div>
      <div id='content'>
        <div class='logo-main'>
          <div class='logo'>
            <a href='http://www.cloudfoundry.com'>
            <img src='/images/logo-cloudfoundry.png'>
            </a>
            <a href='http://www.gopivotal.com' target="_blank">
            <img id="pivotal-logo" src='/images/logo-pivotal.png'>
            </a>
          </div>
          <div class='cta'>
            <a href='https://console.run.pivotal.io'>
            <img src='/images/signup_freetrial.png'>
            </a>
          </div>
        </div><!-- End of logo-main-->
        <div class='container-full'>
          <div id='organization_bar'>
            <div class='navbar'>
              <ul class='nav'>
                <li>
                <a href='http://www.cloudfoundry.com/use' id='use'>Using Cloud Foundry</a>
                </li>
                <li>
                <a href='http://www.cloudfoundry.com/run' id='run'>Running Cloud Foundry</a>
                </li>
                <li>
                <a href='http://www.cloudfoundry.com/getinvolved' id='getinvolved'>Get Involved</a>
                </li>
                <li id='docs-off'>
                  <a href='/' id='docs'>
                    <div id='icon-docs'></div>
                  </a>
                  <div id='docs-list'>
                    <div class="docs-list-list">
                      <a class="docs-list-th" href='/docs/using/app-arch/'>Using Cloud Foundry</a>
                      <br>
                      <a href="/docs/using/app-arch/">Application Architecture Considerations</a>
                      <br>
                      <a href='/docs/using/deploying-apps/'>Deploying Apps</a>
                      <br>
                      <a href='/docs/using/managing-apps/'>Managing Apps</a>
                      <br>
                      <a href='/docs/using/services.html'>Using Services</a>
                      <br>
                      <a class="docs-list-see-all" href="/docs/using/">See all</a>
                    </div><!-- End of 1st column docs-list-list-->
                    <div class="hr-vertical"></div>
                    <div class="docs-list-list">
                      <a class="docs-list-th" href='/docs/running/'>Running Cloud Foundry</a>
                      <br>
                      <a href='/docs/running/architecture/'>Architecture</a>
                      <br>
                      <a href='/docs/running/bosh/'>BOSH</a>
                      <br>
                      <a href='/docs/running/deploying-cf/'>Deploying with BOSH</a>
                      <br>
                      <a href='/docs/running/deploying-cf-with-chef/'>Deploying with Chef</a>
                      <br>
                      <a href='/docs/running/micro_cloud_foundry/'>Micro Cloud Foundry</a>
                      <br>
                      <a href='/docs/running/managing-cf/index.html'>Managing Cloud Foundry</a>
                      <br>
                      <a class="docs-list-see-all" href="/docs/running/">See all</a>
                    </div><!-- End of column 2 docs-list-list -->
                    <div class="hr-vertical"></div>
                    <div class="docs-list-list">
                      <a class="docs-list-th" href='/docs/reference/'>Reference</a>
                      <br>
                      <a href='/docs/reference/cc-api.html'>Cloud Foundry REST API</a>
                      <br>
                      <a class="docs-list-th" href='/docs/dotcom/'>CloudFoundry.com</a>
                      <br>
                      <a href='/docs/dotcom/integration/'>Technical Integration</a>
                      <br>
                      <a class="docs-list-th" href='/docs/community/'>Community</a>
                    </div><!-- End of column 3 docs-list-list -->
                  </div><!-- End of docs-list -->
                </li>
                <li id='search-off'>
                  <a id='search'>
                    <div class='icon-search'></div>
                  </a>
                </li>
                <li id='search-on'>
                  <a id='search2'>
                    <form action='http://www.cloudfoundry.com/search' class='search-form' method='get' onsubmit='return submitQuery()'>
                      <input autocomplete='off' class='search-input' id='search-query' name='q' onfocus="this.placeholder = ''" placeholder='' type='search' value=''>
                    </form>
                    <div class="cancel-x"></div>
                  </a>
                </li>
              </ul>
            </div><!-- End of navbar -->
          </div><!-- End of organization_bar -->
          <div class='content_inner'>
            <a class="forkme" href="http://github.com/cloudfoundry/cf-docs" target="_blank">
              <img alt="Fork me on GitHub" src="/images/ribbon_forkme.png">
            </a>
            <form action='http://www.cloudfoundry.com/search' class='search-docs-form' method='get' onsubmit='return submitQuery()'>
              <input autocomplete='off' class='search-docs-input' id='search-query' name='q' onfocus="this.placeholder = 'more:docs '" placeholder='' type='search-docs' value='more:docs '>
            </form>
            <br clear="left">
            
              <div class="breadcrumbs">
                <ul>
                  <li>
                    <a href="/">Home</a>
                  </li>
                  <li class=""><a href="../../">Cloud Foundryを使用する</a></li> <li class=""><a href="../">アプリ、オーガナイゼーション、スペースの管理</a></li> <li class=""><a href="./">cfコマンド</a></li> <li class="active"><span>cf v6の紹介</span></li>
                </ul>
              </div>
              <br clear="left">

			

              <div class="quick-links"><ul>
<li><a href="#beta">ベータのお知らせ</a></li>
<li><a href="#new">新しい仕様</a></li>
<li><a href="#login">login</a></li>
<li><a href="#push">push</a></li>
<li><a href="#user-provided">ユーザが提供するサービス</a>

<ul>
<li><a href="#user-cups">gcf create-user-provided-service, gcf cups</a></li>
<li><a href="#user-uups">gcf update-user-provided-service`, gcf uups</a></li>
</ul></li>
<li><a href="#user-provided">ドメインとルート</a></li>
<li><a href="#domains-routes">スペースとオーガナイゼーションのロールの管理</a></li>
<li><a href="#aliases">New Aliases</a></li>
<li><a href="#help">コマンド・ラインのヘルプ</a></li>
</ul>
</div>

              <h1>cf v6の紹介</h1>

            
            <h2><a id='beta'></a>ベータのお知らせ</h2>

<p>cf v6 βはCloud Foundryのコマンド・ライン・インタフェースを一から書き直したものです。v6はGoで記述され、以前のRubyヴァージョンより高速になっています。</p>

<p>cf v6はβテスト中です。以下の制限があります:</p>

<ul>
<li>アプリケーションのマニフェストはまだサポートされていません。デプロイのオプションはコマンド・ラインで指定する必要があります。これらは<code>manifest.yml</code>に保存されません。</li>
<li><code>gcf push</code>を使ったステージングとビルドパックの出力は現時点ではLoggregator向けに最適化されています。ログ・メッセージは不完全な場合があります。当面の対処は、<code>gcf logs --recent</code>を使うことです。</li>
<li>いくつかのコマンドについて、最初の50回の結果だけが表示されます。</li>
</ul>

<p>βの期間中はcfではなくgcfという名前になります。cf v6のコマンドは&quot;gcf&quot;ではじまります。すぐにgcfへ全面的に移行する場合は、エイリアスを使ってください。</p>

<p>cf v6はv5を置き換える予定です。v6のβ期間中は、1台のマシンでv5とv6は共存できます。&quot;gcf&quot;ではじめるコマンドを呼び出せばv6が使えます。v6が一般的になれば、gcfはcfへリネームされます。cf v6はその時点で&quot;gcf&quot;ではなく&quot;cf&quot;ではじまるように更新されます。</p>

<p>cf v6は <a href="https://github.com/cloudfoundry/cli/releases/tag/v6.0.0-beta%E3%81%8B%E3%82%89%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%AE%E6%89%8B%E9%A0%86%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%81%AF">https://github.com/cloudfoundry/cli/releases/tag/v6.0.0-betaからダウンロードできます。インストールの手順については</a> <a href="https://github.com/cloudfoundry/cli/blob/master/INSTALL.md%E3%82%92%E3%81%94%E8%A6%A7%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82">https://github.com/cloudfoundry/cli/blob/master/INSTALL.mdをご覧ください。</a></p>

<h2><a id='new'></a>新しい仕様</h2>

<h2><a id='login'></a>login</h2>

<p>cf v6の<code>login</code>コマンドは機能面で拡張されています。ユーザ名とパスワードに加えて、ターゲットAPIのエンドポイント、オーナガイゼーション、スペースを指定することもできます。オプションとして指定しなければ、cfは値を入力するよううながします。</p>

<p>Usage:</p>

<pre class="terminal">
gcf login [-a API_URL] [-u USERNAME] [-p PASSWORD] [-o ORG] [-s SPACE]
</pre>

<p>オーガナイゼーションとスペースが一つしかなければ、ログインすると自動的にそれらが使われます。指定する必要はありません。</p>

<p>ログインに成功すると、cf v6はあなたのAPIエンドポイント、オーガナイゼーション、スペースを<code>~/.cf</code>ディレクトリの<code>config.json</code>ファイルに保存します。これらを変更した場合、<code>config.json</code>も変更されます。</p>

<p>cf v6はcf loginコマンドで指定された値を使おうとします。ログインとターゲットの指定を含むスクリプトでは、非対話型の<code>gcf api</code>, <code>gcf auth</code>, <code>gcf target</code>を使ってください。</p>

<h2><a id='push'></a>push</h2>

<p><code>push</code>コマンドのオプションは変更されました。オプションの多くは短かいもしくは一文字へ変更されました。二つの新しいオプションが追加されました。以下のリストに記載してあります。</p>

<p>Usage:</p>

<pre class="terminal">
gcf push APP [-b URL] [-c COMMAND] [-d DOMAIN] [-i NUM_INSTANCES] [-m MEMORY] [-n HOST] [-p PATH] [-s STACK] [--no-hostname] [--no-route] [--no-start]`
</pre>

<p><code>APP</code>だけは指定する必要があります。オプショナルなものは以下の通りです:</p>

<ul>
<li><code>-b</code> &mdash; カスタム・ビルドパックのURL 例: <a href="https://github.com/heroku/heroku-buildpack-play.git">https://github.com/heroku/heroku-buildpack-play.git</a></li>
<li><code>-c</code> &mdash; アプリケーションの起動コマンド</li>
<li><code>-d</code> &mdash; ドメイン 例: example.com</li>
<li><code>-i</code> &mdash; 起動したいインスタンスの数</li>
<li><code>-m</code> &mdash; メモリの上限 例: 256, 1G, 1024M, and so on.</li>
<li><code>-n</code> &mdash; ホスト名 例: <code>my-subdomain</code>.</li>
<li><code>-p</code> &mdash; アプリケーションが存在するディレクトリのパス</li>
<li><code>-s</code> &mdash; スタック</li>
<li><code>--no-hostname</code> &mdash; このアプリケーションへ割当てるルート・ドメイン (新機能)</li>
<li><code>--no-route</code> &mdash; このアプリケーションへルートを割当てない (新機能)</li>
<li><code>--no-start</code> &mdash; プッシュした後、アプリケーションを起動しない</li>
</ul>

<h2><a id='user-provided'></a> ユーザが提供するサービス</h2>

<p>ユーザが提供するサービスの作成や更新を行うcf v6の新しいコマンド。説明は以下の節を参照。</p>

<p>ユーザが提供するサービスの作成や更新を行う時、<code>-l SYSLOG_DRAIN_URL</code>オプションを使ってRFC 5424の形式の出力をRFC 6587に従ったログ管理ソフトへ送れることに注意してください。</p>

<p>ユーザが提供するサービスが作成されれば、<code>gcf bind-service</code>を使ってアプリケーションへバインドすることができます。また、<code>gcf unbind-service</code>コマンドでアンバインド、 <code>gcf rename-service</code>でリネーム、<code>gcf delete-service</code>で削除できます。</p>

<h3><a id='user-cups'></a>gcf create-user-provided-service, gcf cups</h3>

<p>対話的な機能:</p>

<pre class="terminal">
gcf create-user-provided-service SERVICE_INSTANCE -p "HOST, PORT, DATABASE, USERNAME, PASSWORD" -l SYSLOG-DRAIN-URL
</pre>

<p>非対話的な機能:</p>

<pre class="terminal">
gcf create-user-provided-service SERVICE_INSTANCE -p '{"username":"USERNAME","password":"PASSWORD"}' -l SYSLOG-DRAIN-URL
</pre>

<h3><a id='user-uups'></a>gcf update-user-provided-service, gcf uups</h3>

<p><code>gcf update-user-provided-service</code>コマンドを使って、ユーザが提供するサービスの設定を変更できます。指定しない設定は変更されません。</p>

<p>対話的な機能:</p>

<pre class="terminal">
gcf update-user-provided-service SERVICE_INSTANCE -p "HOST, PORT, DATABASE, USERNAME, PASSWORD" -l SYSLOG-DRAIN-URL
</pre>

<p>非対話的な機能:</p>

<pre class="terminal">
gcf update-user-provided-service SERVICE_INSTANCE -p '{"username":"USERNAME","password":"PASSWORD"}' -l SYSLOG-DRAIN-URL
</pre>

<h2><a id='user-provided'></a> ドメインとルート</h2>

<p>ドメインとルートを管理するcf v6コマンドは以下の通りです:</p>

<ul>
<li><code>gcf create-domain</code> &mdash;  オーガナイゼーションの中にドメインを作ります。</li>
<li><code>gcf share-domain</code> &mdash; すべてのオーナガイゼーションに対してドメインを共有します。</li>
<li><code>gcf map-domain</code> &mdash; ドメインをスペースへ割当てます。</li>
<li><code>gcf unmap-domain</code> &mdash; ドメインのスペースへの割当を解除します。</li>
<li><code>gcf delete-domain</code> &mdash; ドメインを削除します。</li>
<li><code>gcf create-route</code> &mdash; スペースの中にURLルートを作ります。</li>
<li><code>gcf map-route</code> &mdash; アプリケーションへURLルートを追加します。</li>
<li><code>gcf unmap-route</code> &mdash; アプリケーションのURLルートを削除します。</li>
<li><code>gcf delete-route</code> &mdash; ルートを削除します。</li>
</ul>

<p>ルートの中でドメインを使うには:</p>

<ol>
<li><code>gcf create-domain</code>でオーナイゼーション内にドメインを作成します。さもなければ、ドメインが既に存在しているものとします。</li>
<li><code>gcf map-domain</code>でドメインをスペースへ割当てます。</li>
<li><code>gcf map-route</code>でドメインをアプリケーションへ割当てます。スペース内でルートがユニークである限り、同じドメインを別のアプリケーションへ割当てることもできます。<code>-n HOSTNAME</code>オプションでユニークなホスト名を指定すれば、ルートはユニークになります。</li>
</ol>

<h2><a id='domains-routes'></a> スペースとオーガナイゼーションのロールの管理</h2>

<p>cf v6はユーザとロールを管理する新しいコマンドを提供しています。</p>

<ul>
<li><code>gcf org-users</code> &mdash; ロールごとにオーガナイゼーションに属するユーザの一覧を表示します。</li>
<li><code>gcf set-org-role</code> &mdash; オーガナイゼーションのロールをユーザへ割当てます。&quot;OrgManager&quot;, &ldquo;BillingManager&rdquo;, &ldquo;OrgAuditor&quot;が使用できるロールです。</li>
<li><code>gcf unset-org-role</code> &mdash; ユーザからオーガナイゼーションのロールを取りさります。</li>
<li><code>gcf space-users</code> &mdash; ロールごとにスペースに属するユーザの一覧を表示します。</li>
<li><code>gcf set-space-role</code> &mdash; スペースのロールをユーザへ割当てます。&quot;SpaceManager&rdquo;, &ldquo;SpaceDeveloper&rdquo;, &ldquo;SpaceAuditor&quot;が使用できるロールです。</li>
<li><code>gcf unset-space-role</code> &mdash; ユーザからスペースのロールを取りさります。</li>
</ul>

<h2><a id='aliases'></a> New Aliases</h2>

<p>cf v6はよく使われるコマンドに対して一文字の別名を提供しています。たとえば、<code>gcf p</code>で<code>gcf push</code>を実行でき、<code>gcf t</code>で<code>gcf target</code>を実行できます。下に示すように、コマンドに別名があれば、コマンド・ラインのヘルプで見ることができます。</p>

<h2><a id='help'></a> コマンド・ラインのヘルプ</h2>

<p><code>gcf help</code>でコマンドの一覧と簡単な説明を見ることができます。詳しい説明がほしければ、コマンドに <code>-h</code>をつけて実行してください。以下に例を示します:</p>

<pre class="terminal">
gcf push -h
NAME:
   push - Push a new app or sync changes to an existing app

ALIAS:
   p

USAGE:
   gcf push APP [-b URL] [-c COMMAND] [-d DOMAIN] [-i NUM_INSTANCES]
               [-m MEMORY] [-n HOST] [-p PATH] [-s STACK]
               [--no-hostname] [--no-route] [--no-start]

OPTIONS:
   -b ''        Custom buildpack URL (for example: https://github.com/heroku/heroku-buildpack-play.git)
   -c ''        Startup command
   -d ''        Domain (for example: example.com)
   -i '1'       Number of instances
   -m '128'     Memory limit (for example: 256, 1G, 1024M)
   -n ''        Hostname (for example: my-subdomain)
   -p ''        Path of app directory or zip file
   -s ''        Stack to use
   --no-hostname    Map the root domain to this app
   --no-route       Do not map a route to this app
   --no-start       Do not start an app after pushing
</pre>

<p>注意:</p>

<ul>
<li><code>gcf push APP</code>のように、ユーザからの入力は大文字で示しています。</li>
<li><code>gcf create-route SPACE DOMAIN [-n HOSTNAME]</code>のように、省略可能なオプションは大括弧で示しています。</li>
</ul>

          </div><!-- End of content_inner -->
        </div><!-- End of container-full -->
      </div><!-- End of content -->
    </div><!-- End of non_footer -->
    <div id='footer'>
      <div id='container-footer'>
        <div class='bg_social'>
          <ul class='social'>
            <li>
            <a href='http://twitter.com/cloudfoundry' target='_blank'>
            <img alt='Twitter' src='/images/twitter_large.png'>
            </a>
            </li>
            <li>
            <a href='https://plus.google.com/114245065906861739918/posts' target='_blank'>
            <img alt='Google+' src='/images/g+_large.png'>
            </a>
            </li>
            <li>
            <a href='http://facebook.com/cloudfoundry' target='_blank'>
            <img alt='Facebook' src='/images/facebook_large.png'>
            </a>
            </li>
            <li>
            <a href='http://youtube.com/cloudfoundry' target='_blank'>
            <img alt='Youtube' src='/images/youtube_large.png'>
            </a>
            </li>
          </ul>
        </div><!-- End of bg_social -->
        <ul class='links'>
          <li>
          <a href='http://www.cloudfoundry.com/about'>About</a>
          </li>
          <li class='disc'>•</li>
          <li>
          <a href='http://blog.cloudfoundry.com/'>Blog</a>
          </li>
          <li class='disc'>•</li>
          <li>
          <a href='http://www.cloudfoundry.com/partners'>Partners</a>
          </li>
          <li class='disc'>•</li>
          <li>
          <a href='http://docs.cloudfoundry.com'>Docs</a>
          </li>
          <li class='disc'>•</li>
          <li>
          <a href='http://www.cloudfoundry.com/faq'>FAQ</a>
          </li>
          <li class='disc'>•</li>
          <li>
          <a href='http://www.cloudfoundry.com/getinvolved'>Get Involved</a>
          </li>
          <li class='disc'>•</li>
          <li>
          <a href='http://status.cloudfoundry.com/'>Status</a>
          </li>
          <li class='disc'>•</li>
          <li>
          <a href='http://www.cloudfoundry.com/support'>Support</a>
          </li>
        </ul>
        <div class='copyright'>
          <div class='hr-horizontal-dark'></div>
          <br>
          <p>
            &copy;
            <script>
              //<![CDATA[
                var d = new Date();
                document.write(d.getFullYear());
              //]]>
            </script>
            GoPivotal, Inc. All rights reserved.
            <a href='http://www.cloudfoundry.com/terms'>Terms</a>
            <a href='http://www.gopivotal.com/privacy-policy' target='_blank'>Privacy</a>
          </p>
        </div><!-- End of copyright -->
      </div><!-- End of container-footer -->
    </div><!-- End of footer -->
    <script type="text/javascript">
      (function() {
        var didInit = false;
        function initMunchkin() {
          if(didInit === false) {
            didInit = true;
            Munchkin.init('625-IUJ-009');
          }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
          if (this.readyState == 'complete' || this.readyState == 'loaded') {
            initMunchkin();
          }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
      })();
    </script>
  </body>
</html>
